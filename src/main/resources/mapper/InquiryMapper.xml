<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.soop.pages.inquiry.model.dao.InquiryMapper">

    <resultMap id="InquiryDTOResultMaps" type="com.soop.pages.inquiry.model.dto.InquiryDTO">
        <id property="inquiryCode" column="INQUIRY_CODE"/>
        <result property="category" column="CATEGORY"/>
        <result property="title" column="TITLE"/>
        <result property="content" column="CONTENT"/>
        <result property="userCode" column="USER_CODE"/>
        <result property="inquiryDate" column="INQUIRY_DATE"/>
        <result property="adminCode" column="ADMIN_CODE"/>
        <result property="answerStatus" column="ANSWER_STATUS"/>
        <result property="answer" column="ANSWER"/>
        <result property="answerDate" column="ANSWER_DATE"/>
    </resultMap>


    <select id="getInquiryList" resultMap="InquiryDTOResultMaps">
        SELECT
            INQUIRY_CODE,
            TITLE,
            CATEGORY,
            INQUIRY_DATE,
            ANSWER_STATUS
        FROM INQUIRY
    </select>


    <select id="getInquiryByInquiryCode" parameterType="int" resultMap="InquiryDTOResultMaps">
SELECT
    CATEGORY,
    TITLE,
    CONTENT,
    ANSWER
FROM INQUIRY
WHERE INQUIRY_CODE = #{inquiryCode}
    </select>


    <update id="updateInquiryAnswer">
        UPDATE inquiry
        SET answer = #{answer}
        WHERE inquiry_code = #{inquiryCode}
    </update>

    <update id="updateInquiryStatus">
        UPDATE inquiry
        SET answer_status = #{answerStatus}
        WHERE inquiry_code = #{inquiryCode}
    </update>

</mapper>