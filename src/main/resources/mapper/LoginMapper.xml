<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.soop.pages.login.model.dao.LoginMapper">

    <resultMap id="LinkBeeUserResultMap" type="com.soop.pages.login.model.dto.LinkBeeUserDTO">
        <id property="userCode" column="USER_CODE"/>
        <result property="honeypotCode" column="HONEYPOT_CODE"/>
        <result property="nickname" column="NICKNAME"/>
        <result property="email" column="EMAIL"/>
        <result property="gender" column="GENDER"/>
        <result property="profilePic" column="PROFILE_PIC"/>
        <result property="aboutMe" column="ABOUTME"/>
        <result property="userRole" column="USER_ROLE"/>
        <result property="signupDate" column="SIGNUP_DATE"/>
        <result property="signupPlatform" column="SIGNUP_PLATFORM"/>
    </resultMap>

    <select id="findByNicknameAndUserCode" parameterType="map" resultMap="LinkBeeUserResultMap">
        SELECT * FROM LINKBEE_USER WHERE NICKNAME = #{nickname} AND USER_CODE = #{userCode}
    </select>

</mapper>
